{"version":3,"sources":["components/Headerbar/Headerbar.tsx","Eloyeni.styles.tsx","state/Buildings.reducer.ts","components/Leftnav/Leftnav.styles.ts","components/Leftnav/Leftnav.tsx","components/LocationMap/LocationMap.styles.ts","components/LocationMap/LocationMap.tsx","components/BuildingInformation/BuildingInformation.styles.ts","components/BuildingInformation/BuildingInformation.tsx","utils/constants.ts","components/NavShell/NavShell.tsx","Eloyeni.tsx","index.tsx"],"names":["styles","createStyles","root","flexGrow","grow","menuButton","marginLeft","marginRight","Headerbar","react_default","a","createElement","AppBar_default","position","color","Toolbar_default","Typography_default","variant","Component","withStyles","Eloyeni_styles","container","style","height","width","$nest",".wrapper","display","nav","buildingsInit","selectedBuilding","buildings","buildingsReducer","state","action","type","Object","objectSpread","Error","Leftnav_styles","leftNavContainer","flexDirection","li","alignItems","navItem","header","index_es","component","Leftnav","props","Fragment","subheader","className","map","building","idx","bldArrIndex","findIndex","bld","id","key","selected","onClick","selectBuilding","name","LocationMap_styles","buildingId","_$nest","defineProperty","concat","fill","rgba","toString","stroke","strokeWidth","LocationMap","mapSrc","_props$buildingState","buildingState","react_svg","src","event","bldId","find","findBuidling","get","BuildingInformation_styles","buildingInfoContainer","margin","table","marginTop","marginBottom","BuildingInformation","cardBuilding","description","status","infestationLevel","gutterBottom","label","EXPIRES","ACCESS_KEY","BUCKET","NavShell","nvUrl","undefined","nvSig","_useReducer","useReducer","_useReducer2","slicedToArray","dispatch","auth","_props$auth","mapUrl","mapSig","navUrl","navSig","useEffect","axios","then","resp","data","Leftnav_Leftnav","Eloyeni","parsedQs","qs","parse","window","location","search","slice","this","setState","components_Headerbar_Headerbar","NavShell_NavShell","ReactDOM","render","src_Eloyeni","document","getElementById"],"mappings":"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","file":"static/js/main.5b4e2167.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { createStyles, withStyles } from '@material-ui/core/styles';\r\n\r\nconst styles = createStyles({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginLeft: -12,\r\n    marginRight: 20,\r\n  },\r\n});\r\n\r\nclass Headerbar extends Component {\r\n  render() {\r\n    return (\r\n      <AppBar position=\"static\" color=\"primary\">\r\n        <Toolbar>\r\n          <Typography variant=\"h6\" color=\"inherit\">Eloyeni</Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(Headerbar);\r\n","import { style } from \"typestyle\";\r\n\r\nconst container = style({\r\n  height: '100%',\r\n  width: '100%',\r\n  $nest: {\r\n    '.wrapper': {\r\n      width: '100%',\r\n      display: 'flex',\r\n      $nest: {\r\n        nav: {\r\n          width: '300px'\r\n        }\r\n      }\r\n    }\r\n  }\r\n});\r\n\r\nexport default {\r\n  container\r\n}\r\n","import { Color } from \"csstype\";\r\nimport { BasicItem } from \"../components/Leftnav/Leftnav\";\r\n\r\nexport interface Building extends BasicItem {\r\n  color: Color,\r\n  description: string,\r\n  status: 'Infested' | 'Pacified' | 'Online' | 'Unknown' | null,\r\n  infestationLevel: number | null\r\n}\r\n\r\nexport type BuildingState = {\r\n  selectedBuilding: Building | null;\r\n  buildings: Building[]\r\n}\r\n\r\nexport function buildingsInit(): BuildingState {\r\n  return {\r\n    selectedBuilding: null,\r\n    buildings: []\r\n  };\r\n}\r\n\r\nexport function buildingsReducer(state: BuildingState, action: any): BuildingState {\r\n  switch (action.type) {\r\n    case 'selectBuilding':\r\n      return {\r\n        ...state,\r\n        selectedBuilding: action.selectedBuilding\r\n      };\r\n    case 'setBuildings':\r\n      return {\r\n        ...state,\r\n        selectedBuilding: action.buildings[0],\r\n        buildings: action.buildings\r\n      };\r\n    case 'reset':\r\n      return buildingsInit();\r\n    default:\r\n      throw new Error();\r\n  }\r\n}\r\n","import { style } from \"typestyle\";\r\n\r\nconst leftNavContainer = style(\r\n  {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    $nest: {\r\n      'li': {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'baseline'\r\n      }\r\n    }\r\n  }\r\n);\r\n\r\nconst navItem = style({\r\n})\r\n\r\nexport default {\r\n  leftNavContainer,\r\n  navItem\r\n}\r\n","import React, { Dispatch } from 'react';\r\n\r\nimport styles from './Leftnav.styles'\r\nimport { List, ListSubheader, MenuItem } from '@material-ui/core';\r\nimport { Building } from '../../state/Buildings.reducer';\r\n\r\nexport interface BasicItem {\r\n  id: string;\r\n  name: string;\r\n}\r\n\r\nexport interface NavPayload {\r\n  buildings: Building[]\r\n}\r\n\r\nexport type LeftnavProps = {\r\n  selectBuilding: Dispatch<any>\r\n  selectedBuilding: Building | null;\r\n  buildings: Building[]\r\n};\r\n\r\nconst header: JSX.Element = (<ListSubheader component=\"div\">City Buildings</ListSubheader>);\r\nfunction Leftnav(props: LeftnavProps) {\r\n\r\n  const renderBuilding = (building: Building, idx: number): JSX.Element => {\r\n    const bldArrIndex = props.selectedBuilding ?\r\n      props.buildings.findIndex(bld => bld.id === props.selectedBuilding!.id) : -1;\r\n\r\n    return (\r\n      <MenuItem\r\n        key={idx}\r\n        selected={idx === bldArrIndex}\r\n        onClick={() => props.selectBuilding({\r\n          type: 'selectBuilding',\r\n          selectedBuilding: building\r\n        })}\r\n\r\n      >\r\n        {building.name}\r\n      </MenuItem >\r\n    )\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <List\r\n        component=\"nav\"\r\n        subheader={header}\r\n        className={styles.leftNavContainer}>\r\n        {props.buildings.map(renderBuilding)}\r\n      </List>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\n\r\n\r\nexport default Leftnav;\r\n","import { style } from \"typestyle\";\r\nimport { rgba } from 'csx';\r\n\r\nconst mainContainer = (buildingId: string | null) => {\r\n  return style({\r\n    display: 'flex',\r\n    $nest: {\r\n      [`#${buildingId}`]: {\r\n        fill: rgba(255, 255, 255, 0.3).toString(),\r\n        stroke: '#d93381 !important'\r\n      },\r\n      'g': {\r\n        strokeWidth: 3,\r\n        fill: '#00c4ff75',\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\nexport default {\r\n  mainContainer\r\n}\r\n","import React, { Dispatch } from 'react';\r\nimport styles from './LocationMap.styles';\r\nimport ReactSVG from 'react-svg';\r\nimport { Building, BuildingState } from '../../state/Buildings.reducer';\r\nimport { get } from 'lodash';\r\n\r\ntype LocationMapProps = {\r\n  mapSrc: string | undefined,\r\n  selectBuilding: Dispatch<any>,\r\n  buildingState: BuildingState\r\n};\r\n\r\nexport default (props: LocationMapProps) => {\r\n  const { mapSrc } = props;\r\n  const { selectedBuilding, buildings } = props.buildingState;\r\n\r\n  const findBuidling = (bldId: string): Building | void => {\r\n    return buildings.find(bld => bld.id === bldId);\r\n  }\r\n\r\n  const handleClickBuilding = (event: React.MouseEvent<HTMLElement, MouseEvent>) => {\r\n    const bldId = get(event, 'target.parentElement.id') as string;\r\n    const bld = findBuidling(bldId);\r\n    if (bld) {\r\n      props.selectBuilding({\r\n        type: 'selectBuilding',\r\n        selectedBuilding: bld\r\n      })\r\n    }\r\n  }\r\n  const id = selectedBuilding ? selectedBuilding.id : 'b1'\r\n\r\n  return (\r\n    <main className={styles.mainContainer(id)}>\r\n      {mapSrc ? (\r\n        <ReactSVG\r\n          src={mapSrc}\r\n          onClick={handleClickBuilding}\r\n        />\r\n      ) : null}\r\n    </main>\r\n  );\r\n}\r\n\r\n","import { style } from 'typestyle';\r\n\r\nconst buildingInfoContainer = style({\r\n  margin: '2em',\r\n  width: '400px',\r\n  height: '400px',\r\n  display: 'flex',\r\n  flexDirection: 'column'\r\n});\r\n\r\nconst table = style({\r\n  marginTop: 'auto',\r\n  marginBottom: '1em'\r\n})\r\n\r\nexport default {\r\n  buildingInfoContainer,\r\n  table\r\n}\r\n","import React from 'react';\r\nimport { Building } from './../../state/Buildings.reducer';\r\nimport { Card, CardActionArea, CardContent, Typography, CardActions, Table, TableHead, TableRow, TableCell, TableBody, Chip } from '@material-ui/core';\r\nimport styles from './BuildingInformation.styles';\r\n\r\ntype BuildingInformationProps = {\r\n  selectedBuilding: Building | null\r\n}\r\n\r\nexport default function (props: BuildingInformationProps) {\r\n  const { selectedBuilding } = props;\r\n\r\n  const dummyBuilding: Building = {\r\n    id: '',\r\n    name: 'Select a building',\r\n    description: 'Select a building in the nav panel or on the map',\r\n    color: '#fff',\r\n    status: null,\r\n    infestationLevel: null\r\n  };\r\n\r\n  const cardBuilding = selectedBuilding ? selectedBuilding : dummyBuilding;\r\n\r\n  return (\r\n    <Card className={styles.buildingInfoContainer}>\r\n      <CardActionArea>\r\n        <CardContent>\r\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n            {cardBuilding.name}\r\n          </Typography>\r\n          <Typography component=\"p\">\r\n            {cardBuilding.description}\r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n      <CardActions className={styles.table}>\r\n        {cardBuilding.status ? (\r\n          <Table>\r\n            <TableHead >\r\n              <TableRow>\r\n                <TableCell>Status</TableCell>\r\n                <TableCell>Infestation Level</TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              <TableRow>\r\n                <TableCell>{cardBuilding.status}</TableCell>\r\n                <TableCell>{cardBuilding.infestationLevel ? (<Chip color=\"primary\" label={cardBuilding.infestationLevel} />) : null}</TableCell>\r\n              </TableRow>\r\n            </TableBody>\r\n          </Table>\r\n        ) : null}\r\n      </CardActions>\r\n    </Card>\r\n  )\r\n}\r\n","export const EXPIRES = 1619131081;\r\nexport const ACCESS_KEY = 'AKIATDK53YFTSCKWJ7UY';\r\nexport const BUCKET = 'eloyeni2.s3.amazonaws.com/';\r\nexport const KEY_QUERY_PARAM = 'AWSAccessKeyId'\r\n","import React, { useReducer, useEffect } from 'react';\r\nimport { buildingsReducer } from '../../state/Buildings.reducer';\r\nimport { buildingsInit } from './../../state/Buildings.reducer';\r\nimport Leftnav, { NavPayload } from '../Leftnav/Leftnav';\r\nimport axios from 'axios';\r\nimport LocationMap from '../LocationMap/LocationMap';\r\nimport BuildingInformation from '../BuildingInformation/BuildingInformation';\r\nimport { EloyeniState } from 'Eloyeni';\r\nimport { BUCKET, EXPIRES, ACCESS_KEY } from 'utils/constants';\r\n\r\ntype NavShellProps = {\r\n  auth: EloyeniState | null\r\n}\r\n\r\nfunction NavShell(props: NavShellProps) {\r\n  let mapSrc: string | undefined;\r\n  let nvUrl: string | undefined = undefined;\r\n  let nvSig: string | undefined = undefined;\r\n  const [state, dispatch] = useReducer(buildingsReducer, undefined, buildingsInit);\r\n\r\n  if (props.auth) {\r\n    // build the mapSrc string\r\n    const { mapUrl, mapSig } = props.auth;\r\n    nvUrl = props.auth.navUrl;\r\n    nvSig = props.auth.navSig;\r\n    mapSrc = `https://${BUCKET}${mapUrl}?AWSAccessKeyId=${ACCESS_KEY}&Signature=${mapSig}&Expires=${EXPIRES}`\r\n  }\r\n\r\n  useEffect(() => {\r\n    // get the navigation json file\r\n    if (props.auth && nvUrl && nvSig) {\r\n      axios.get<NavPayload>(`https://${BUCKET}${nvUrl}?AWSAccessKeyId=${ACCESS_KEY}&Signature=${nvSig}&Expires=${EXPIRES}`).then((resp) => {\r\n        dispatch({\r\n          type: 'setBuildings',\r\n          buildings: resp.data.buildings\r\n        })\r\n      })\r\n    }\r\n  }, [nvSig, nvUrl, props.auth]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Leftnav\r\n        buildings={state.buildings}\r\n        selectBuilding={dispatch}\r\n        selectedBuilding={state.selectedBuilding}\r\n      />\r\n      <LocationMap\r\n        selectBuilding={dispatch}\r\n        buildingState={state}\r\n        mapSrc={mapSrc}\r\n      />\r\n      <BuildingInformation\r\n        selectedBuilding={state.selectedBuilding}\r\n      />\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default NavShell;\r\n","import React, { Component } from 'react';\r\nimport Headerbar from './components/Headerbar/Headerbar';\r\nimport styles from './Eloyeni.styles';\r\nimport NavShell from './components/NavShell/NavShell';\r\nimport qs from 'querystring';\r\n\r\nexport type EloyeniState = {\r\n  mapUrl: string | undefined,\r\n  mapSig: string | undefined\r\n  navUrl: string | undefined,\r\n  navSig: string | undefined\r\n}\r\n\r\nclass Eloyeni extends Component<{}, EloyeniState> {\r\n\r\n  componentDidMount() {\r\n    // storing the auth in the query string\r\n    // comes with the ? at the beginning so take it off\r\n    const parsedQs = qs.parse(window.location.search.slice(1));\r\n    if (parsedQs.mapUrl || parsedQs.navUrl) {\r\n      this.setState({\r\n        mapUrl: parsedQs.mapUrl as string,\r\n        mapSig: parsedQs.mapSig as string,\r\n        navUrl: parsedQs.navUrl as string,\r\n        navSig: parsedQs.navSig as string\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={styles.container}>\r\n        <Headerbar />\r\n        <div className={'wrapper'}>\r\n          <NavShell auth={this.state} />\r\n        </div>\r\n      </div >\r\n    );\r\n  }\r\n}\r\n\r\nexport default Eloyeni;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport Eloyeni from './Eloyeni';\r\n\r\nReactDOM.render(<Eloyeni />, document.getElementById('root'));"],"sourceRoot":""}